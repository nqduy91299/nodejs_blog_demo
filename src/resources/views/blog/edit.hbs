<div class="mt-3 blog-create-page">
    <h1>Sửa Blog</h1>
    <form class="mt-3" method="POST" action="/blog/{{blog._id}}?_method=PUT" enctype="multipart/form-data">
        <div class="form-group">
            <label for="title">Tựa đề:</label>
            <input type="text" class="form-control" id="title" name="title" value="{{blog.title}}">
        </div>
        <div class="form-group">
            <label for="content">Nội dung:</label>
            <textarea  class="form-control" id="content" name="content" cols="30" rows="10">{{blog.content}}</textarea>
        </div>
        <div class="form-group">
            <label for="image">Hình ảnh đại diện:</label>
            <input type="file" accept="image/png, image/jpeg" class="form-control" id="image" name="image">
        </div>
        <div class="mb-3">
            <img id="img-preview" src="/images/{{blog.image}}" alt="">
        </div>
        <button type="submit" class="btn btn-primary">Lưu</button>
    </form>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        $('#image').change((e) => {
            const file = e.target.files[0];
            if(file){
                let reader = new FileReader();
    
                reader.onload = function(){
                    $("#img-preview").attr("src", reader.result);
                }
    
                reader.readAsDataURL(file);
            }
        })
    });
</script>