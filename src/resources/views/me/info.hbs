<div class="row mt-2 mt-lg-5 info-page">
    <div class="col-12 p-3 border rounded">
        <h3>Thông tin cá nhân</h3>
        <form method="POST" action="/me?_method=PUT" enctype="multipart/form-data">
            <div class="form-group">
                <label>Avatar</label>
                <div class="img-input-preview">
                    <img id="img-preview" src="/images/{{user.avatar}}" alt="avatar">
                    <label for="image"><span>Chọn hình</span></label>
                    <input class="invisible" type="file" name="avatar" id="image" accept="image/png, image/jpeg">
                </div>
            </div>
            <div class="form-group">
                <label for="name">Tên:</label>
                <input class="form-control" type="text" name="name" id="name" required value="{{user.name}}">
            </div>
            <div class="form-group">
                <label>Username:</label>
                <input class="form-control" type="text" disabled value="{{user.username}}">
            </div>
            <button type="submit" class="btn btn-primary">Lưu</button>
        </form>
        
    </div>
    <div class="col-12 my-3">
        <div class="p-3 border rounded ">
            <a href="/me/change-password" class="">Đổi mật khẩu?</a>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        $('#image').change((e) => {
            const file = e.target.files[0];
            if(file){
                let reader = new FileReader();
    
                reader.onload = function(){
                    $("#img-preview").attr("src", reader.result);
                }
    
                reader.readAsDataURL(file);
            }
        })
    });
</script>